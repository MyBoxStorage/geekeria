# ============================================
# BACKEND - VariÃ¡veis de Ambiente
# ============================================
# 
# INSTRUÃ‡Ã•ES:
# 1. Copie este arquivo para .env (na pasta server)
# 2. Preencha todos os valores abaixo
# 3. NUNCA commite arquivos .env no Git!
#
# ============================================

# ============================================
# ðŸ—„ï¸ SUPABASE DATABASE
# ============================================
# Onde Ã© usado: Prisma Client, todas as rotas que usam banco de dados
# Como obter: https://supabase.com/dashboard/project/joagnmqivhyxbkhskkjp/settings/database
# Projeto: BravosBrasil (ID: joagnmqivhyxbkhskkjp)
# 
# Formato: postgresql://postgres:[PASSWORD]@db.[PROJECT_ID].supabase.co:5432/postgres?schema=public
DATABASE_URL="postgresql://postgres:[YOUR-PASSWORD]@db.joagnmqivhyxbkhskkjp.supabase.co:5432/postgres?schema=public"

# ============================================
# ðŸ’³ MERCADO PAGO - ACCESS TOKEN
# ============================================
# Onde Ã© usado: 
#   - server/routes/mp/create-payment.ts (linha 56)
#   - server/routes/mp/webhooks.ts (linha 49)
# Como obter: https://www.mercadopago.com.br/developers/panel/credentials
# IMPORTANTE: Este Ã© o Access Token (server-side), NUNCA exponha no frontend!
# Formato: APP_USR-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
MP_ACCESS_TOKEN=APP_USR-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# ============================================
# MERCADO PAGO - WEBHOOK SECRET (assinatura x-signature)
# ============================================
# Onde Ã© usado: server/routes/mp/webhooks.ts - validaÃ§Ã£o de assinatura do webhook
# Como obter: Painel MP â†' Your integrations â†' Webhooks â†' Reveal secret
# ObrigatÃ³rio para aceitar webhooks; se nÃ£o configurado, todas as requisiÃ§Ãµes retornam 401
MP_WEBHOOK_SECRET=your-webhook-secret

# ============================================
# ðŸŒ URLs DO PROJETO
# ============================================

# FRONTEND_URL - URL do frontend (React/Vite)
# Onde Ã© usado: server/index.ts (linha 23) - ConfiguraÃ§Ã£o CORS
# Exemplo desenvolvimento: http://localhost:5173
# Exemplo produÃ§Ã£o: https://bravosbrasil.com.br
FRONTEND_URL=http://localhost:5173

# BACKEND_URL - URL do backend (Express)
# Onde Ã© usado: server/routes/mp/create-payment.ts (linha 93) - URL do webhook
# Exemplo desenvolvimento: http://localhost:3001
# Exemplo produÃ§Ã£o: https://api.bravosbrasil.com.br
BACKEND_URL=http://localhost:3001

# ADMIN_TOKEN - Token para rotas administrativas (mark-montink, /api/admin/orders)
# Obrigatório em produção. Gere um token longo (ex: openssl rand -hex 32)
ADMIN_TOKEN=change-me-to-a-long-random-token

# ============================================
# ðŸ–¥ï¸ SERVER CONFIGURATION
# ============================================

# PORT - Porta do servidor backend
# Onde Ã© usado: server/index.ts
# PadrÃ£o: 3001 (se nÃ£o especificado)
PORT=3001

# NODE_ENV - Ambiente de execuÃ§Ã£o
# Onde Ã© usado: server/index.ts (linha 48) - Mostra mensagens de erro detalhadas em desenvolvimento
# Valores: development | production
NODE_ENV=development

# ============================================
# EMAIL - Nodemailer (boas-vindas ao cadastro)
# ============================================
# Opcional. Se não configurado, email de boas-vindas é ignorado.
# GMAIL_USER: seu email Gmail (ex: contato@bravosbrasil.com.br)
# GMAIL_APP_PASSWORD: senha de app do Gmail (não a senha normal)
# Como obter: Google Account -> Segurança -> Verificação em 2 etapas -> Senhas de app
GMAIL_USER=
GMAIL_APP_PASSWORD=

# ============================================
# TELEGRAM - Notificações de novas gerações
# ============================================
# Opcional. Se não configurado, notificações são ignoradas.
# Como obter: BotFather no Telegram -> /newbot -> pegar token
# Chat ID: enviar msg para @userinfobot ou usar o ID do grupo
TELEGRAM_BOT_TOKEN=your-bot-token
TELEGRAM_CHAT_ID=your-chat-id
